<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reconocimiento de voz y sonido</title>
</head>
<body>
  <h1>Reconocimiento de frases</h1>

  <input type="text" id="phrase" placeholder="Frase que dirÃ¡s" />
  <input type="file" id="audioFile" accept="audio/*" />
  <button id="addBtn">Agregar</button>

  <button id="listenBtn">ðŸŽ¤ Escuchar</button>

  <p id="status">MicrÃ³fono apagado.</p>

  <script>
    const phraseInput = document.getElementById('phrase');
    const audioFileInput = document.getElementById('audioFile');
    const addBtn = document.getElementById('addBtn');
    const listenBtn = document.getElementById('listenBtn');
    const status = document.getElementById('status');

    const phrases = {};

    addBtn.onclick = () => {
      const phrase = phraseInput.value.trim().toLowerCase();
      const file = audioFileInput.files[0];
      if (!phrase || !file) {
        alert("Completa ambos campos: frase y sonido.");
        return;
      }
      const audioURL = URL.createObjectURL(file);
      phrases[phrase] = new Audio(audioURL);
      alert(`Agregado: "${phrase}"`);
      phraseInput.value = '';
      audioFileInput.value = '';
    };

    let recognition;
    if ('webkitSpeechRecognition' in window) {
      recognition = new webkitSpeechRecognition();
      recognition.lang = 'es-ES';
      recognition.continuous = true;
      recognition.interimResults = false;
    } else {
      alert('Tu navegador no soporta reconocimiento de voz.');
    }

    listenBtn.onclick = () => {
      if (recognition) {
        recognition.start();
        status.textContent = 'Escuchando...';
      }
    };

    if (recognition) {
      recognition.onresult = (event) => {
        const transcript = event.results[event.results.length - 1][0].transcript.trim().toLowerCase();
        console.log('Detectado:', transcript);
        if (phrases[transcript]) {
          phrases[transcript].play();
          status.textContent

